<?php

class MWDControllerFormsPreview {
	////////////////////////////////////////////////////////////////////////////////////////
	// Events                                                                             //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Constants                                                                          //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Variables                                                                          //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Constructor & Destructor                                                           //
	////////////////////////////////////////////////////////////////////////////////////////
	public function __construct() {
	}
	////////////////////////////////////////////////////////////////////////////////////////
	// Public Methods                                                                     //
	////////////////////////////////////////////////////////////////////////////////////////
	public function execute() {
		$task = MWD_Library::get('task');  
		if (method_exists($this, $task)) {
	/* 		check_admin_referer('nonce_mwd', 'nonce_mwd'); */
			$this->$task($id);
		}
		else {
			$this->display();
		}
	}

	public function display() {
		require_once MWD_DIR . "/admin/models/MWDModelFormsPreview.php";
		$model = new MWDModelFormsPreview();

		require_once MWD_DIR . "/admin/views/MWDViewFormsPreview.php";
		$view = new MWDViewFormsPreview($model);
		
		$view->display();
	}

	public function save_preview() {
		require_once MWD_DIR . "/admin/models/MWDModelFormsPreview.php";
		$model = new MWDModelFormsPreview();

		require_once MWD_DIR . "/admin/views/MWDViewFormsPreview.php";
		$view = new MWDViewFormsPreview($model);
		
		$view->save_preview();
	}
  ////////////////////////////////////////////////////////////////////////////////////////
  // Getters & Setters                                                                  //
  ////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////
  // Private Methods                                                                    //
  ////////////////////////////////////////////////////////////////////////////////////////
  ////////////////////////////////////////////////////////////////////////////////////////
  // Listeners                                                                          //
  ////////////////////////////////////////////////////////////////////////////////////////
}